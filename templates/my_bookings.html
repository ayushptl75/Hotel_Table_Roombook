{% extends 'base.html' %}
{% block content %}
<h2>My Bookings</h2>

<h4>Room Bookings</h4>
<ul class="list-group mb-3">
  {% for b in rooms %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    {{ b.room.name }} — {{ b.check_in }} to {{ b.check_out }} ({{ b.status }})
    {% if b.status == 'Booked' %}
      <form method="post" action="{% url 'cancel_room_booking' b.id %}">
        {% csrf_token %}
        <button class="btn btn-sm btn-danger">Cancel</button>
      </form>
    {% endif %}
  </li>
  {% empty %}<li class="list-group-item">No room bookings.</li>{% endfor %}
</ul>

<h4>Table Bookings</h4>
<ul class="list-group">
  {% for t in tables %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    Table {{ t.table.table_number }} — {{ t.date }} at {{ t.time }} ({{ t.status }})
    {% if t.status == 'Booked' %}
      <form method="post" action="{% url 'cancel_table_booking' t.id %}">
        {% csrf_token %}
        <button class="btn btn-sm btn-danger">Cancel</button>
      </form>
    {% endif %}
  </li>
  {% empty %}<li class="list-group-item">No table bookings.</li>{% endfor %}
</ul>
{% endblock %}
